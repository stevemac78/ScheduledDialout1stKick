<!DOCTYPE html>
<html>
<head>
	<title>Schedule Dialer API</title>
</head>
<body>
	<h1>Schedule Dialer API</h1>
	<form id="dialer-form">
		<label for="list-code">List Code:</label>
		<input type="text" id="list-code" name="list-code" optional><br><br>

		<label for="queue-id">Queue ID:</label>
		<input type="number" id="queue-id" name="queue-id" value="679385" required><br><br>

		<label for="dst-number">Destination Number:</label>
		<input type="text" id="dst-number" name="dst-number" required><br><br>

		<label for="dst-name">Destination Name:</label>
		<input type="text" id="dst-name" name="dst-name" required><br><br>

		<label for="org-number">Origination Number:</label>
		<input type="text" id="org-number" name="org-number" optional><br><br>

		<label for="dial-start-date">Dial Start Date:</label>
		<input type="text" id="dial-start-date" name="dial-start-date" optional><br><br>

		<label for="daily-dial-start">Daily Dial Start Minutes Offset:</label>
		<input type="number" id="daily-dial-start" name="daily-dial-start" optional><br><br>

		<label for="daily-dial-end">Daily Dial End Minutes Offset:</label>
		<input type="number" id="daily-dial-end" name="daily-dial-end" optional><br><br>

		<label for="dial-seconds-timeout">Dial Seconds Timeout:</label>
		<input type="number" id="dial-seconds-timeout" name="dial-seconds-timeout" optional><br><br>

		<label for="expiry-date">Expiry Date:</label>
		<input type="text" id="expiry-date" name="expiry-date" optional><br><br>

		<label for="priority">Priority:</label>
		<input type="number" id="priority" name="priority" optional><br><br>

		<label for="minutes-retry">Minutes Retry:</label>
		<input type="number" id="minutes-retry" name="minutes-retry" optional><br><br>

		<label for="max-attempts">Max Attempts:</label>
		<input type="number" id="max-attempts" name="max-attempts" optional><br><br>

		<label for="screen-pop-url">Screen Pop URL:</label>
		<input type="text" id="screen-pop-url" name="screen-pop-url" optional><br><br>

		<label for="extra-info">Extra Info:</label>
		<input type="text" id="extra-info" name="extra-info" optional><br><br>

		<button type="submit">Submit</button>
	</form>
</body>

	<script>
	const form = document.getElementById('dialer-form');
	form.addEventListener('submit', submitForm);

	function submitForm(event) {
		event.preventDefault();
		const listCode = document.getElementById('list-code').value;
		const queueId = document.getElementById('queue-id').value;
		const dstNumber = document.getElementById('dst-number').value;
		const dstName = document.getElementById('dst-name').value;
		const orgNumber = document.getElementById('org-number').value;
		const dialStartDate = document.getElementById('dial-start-date').value;
		const dailyDialStart = document.getElementById('daily-dial-start').value;
		const dailyDialEnd = document.getElementById('daily-dial-end').value;
		const dialSecondsTimeout = document.getElementById('dial-seconds-timeout').value;
		const expiryDate = document.getElementById('expiry-date').value;
		const priority = document.getElementById('priority').value;
		const minutesRetry = document.getElementById('minutes-retry').value;
		const maxAttempts = document.getElementById('max-attempts').value;
		const screenPopUrl = document.getElementById('screen-pop-url').value;
		const extraInfo = document.getElementById('extra-info').value;

		const data = {
			DstNumber: dstNumber,
			DstName: dstName,
			OrgNumber: orgNumber,
			DialStartDate: dialStartDate,
			DailyDialStartMinutesOffset: dailyDialStart,
			DailyDialEndMinutesOffset: dailyDialEnd,
			DialSecondsTimeout: dialSecondsTimeout,
			ExpiryDate: expiryDate,
			Priority: priority,
			MinutesRetry: minutesRetry,
			MaxAttempts: maxAttempts,
			ScreenPopUrl: screenPopUrl,
			ExtraInfo: extraInfo,
		};

		const token = 'PDLMKGJKrCj58zkleingaajWKOFDgoTILWGk8b6i5mM=';

		fetch(`https://pop2-apps.mycontactcenter.net/API/v3/dialer/entry/${listCode}/${queueId}`, {
			method: 'POST',
			headers: {
				'Content-Type': 'application/json',
				'token': token
			},
			body: JSON.stringify([data])
		})
		.then(response => response.json())
		.then(data => {
			console.log('Success:', data);
			alert('API request sent successfully!');
		})
		.catch((error) => {
			console.error('Error:', error);
			alert('API request failed!');
		});
	}
</script>
</html>

